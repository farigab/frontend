<div class="container">
  <div class="page-header">
    <div class="page-header-content">
      <h1 class="page-title">Timeline de Achievements</h1>
      <p class="page-subtitle">Visualize sua jornada profissional ao longo do tempo</p>
    </div>
  </div>

  @if (loading()) {
  <div class="loading">
    <i class="pi pi-spin pi-spinner" style="font-size: 2.5rem"></i>
    <p class="loading-text">Carregando timeline...</p>
  </div>
  }

  @if (!loading() && timelineData()) {
  <div class="timeline-content fade-in">
    <div class="timeline-summary">
      <div class="summary-icon">
        <i class="pi pi-trophy"></i>
      </div>
      <div class="summary-text">
        <strong>{{ timelineData()!.total }}</strong> achievements registrados
      </div>
    </div>

    <p-timeline [value]="timelineEvents()" align="alternate" styleClass="custom-timeline">
      <ng-template pTemplate="marker" let-event>
        <div class="timeline-marker">
          <i class="pi pi-calendar"></i>
        </div>
      </ng-template>
      <ng-template pTemplate="content" let-event>
        <div class="timeline-card">
          <div class="timeline-year">
            <span class="year-badge">{{ event.year }}</span>
            <span class="achievement-count">{{ event.count }} achievement(s)</span>
          </div>
          <div class="achievements-list">
            @for (achievement of event.achievements; track achievement.id) {
            <div class="achievement-card">
              <div class="achievement-header">
                <h3 class="achievement-title">{{ achievement.title }}</h3>
                <p-tag [value]="achievement.category" [severity]="getCategoryColor(achievement.category)"></p-tag>
              </div>
              <p class="achievement-description">{{ achievement.description }}</p>
              <div class="achievement-meta">
                <div class="meta-item">
                  <i class="pi pi-calendar"></i>
                  <span>{{ achievement.date | date: 'dd/MM/yyyy' }}</span>
                </div>
              </div>
            </div>
            }
          </div>
        </div>
      </ng-template>
    </p-timeline>
  </div>
  }
</div>
